@import 'config/sizes';
@import 'config/fonts';
@import 'mixins/overflow-gradient';
@import 'mixins/screen';
@import 'mixins/table';
@import 'mixins/sr-only';

giz-table {
    display: block;
}

.table {
    @include overflow-gradient;

    --overflow-gradient-width: 60px;

    position: relative;

    &.is-overflowing {
        margin-right: -$p-gutter;
    }

    &__container {
        overflow-x: auto;
        scroll-behavior: smooth;
        scrollbar-width: none;
        width: 100%;

        table {
            min-width: 100%;
            table-layout: fixed;
            width: auto;
        }
    }

    &__caption {
        &--hide {
            @include sr-only;
        }
    }

    /* stylelint-disable no-descending-specificity  */
    &--compact {
        --table-cell-padding: 4px #{ $p-gutter };

        td, th {
            height: 32px;
            white-space: nowrap;
        }
    }

    &--info {
        --table-cell-padding: 0.5rem #{ $p-gutter--small };

        line-height: 1.4;

        caption {
            font-size: 1rem;
        }

        td, th {
            word-break: keep-all;
        }

        tbody {
            td {
                text-align: right;
            }
        }
    }

    &--overview {
        td {
            font-family: $font-barlow;
            font-weight: $weight-medium;
            height: 46px;
            white-space: nowrap;
        }
    }

    &--no-border {
        table {
            border: 0;
            margin-bottom: 0;
        }

        tr {
            &:first-child {
                th, td {
                    padding-top: 0;
                }
            }

            &:last-child {
                th, td {
                    padding-bottom: 0;
                }
            }
        }

        th, td {
            &:first-child {
                padding-left: 0;
            }

            &:last-child {
                padding-right: 0;
            }
        }
    }

    &.is-loading {
        tbody {
            animation: table-pulse 1s infinite forwards;
        }
    }
    /* stylelint-enable no-descending-specificity  */

    @include screen($screen-simple) {
        &--info {
            --table-cell-padding: 0.5rem #{ $p-gutter };
        }
    }
}

@keyframes table-pulse {
    0% {
        opacity: 0.2;
    }

    50% {
        opacity: 0.5;
    }

    100% {
        opacity: 0.2;
    }
}
