<giz-entry-header
    [title]="title"
    [backButton]="{
        icon: icon.LIST,
        text: backTitle,
        link: [moduleRoute.ENTRIES]
    }"
>
    <a giz-stroke-button [routerLink]=" [moduleRoute.ENTRIES, (id$ | async), entryRoute.SCENARIO ]"
       i18n="continue">Continue</a>
</giz-entry-header>
<div class="info">
    @if (!entry || entry.isLoading()) {
        <giz-spinner class="info__spinner" [size]="'large'"></giz-spinner>

    } @else {
        @if (entry.data(); as entry) {
            <div class="info__column">
                <table class="info__table">
                    <caption i18n="entry general title">General</caption>
                    <tbody>
                        <tr>
                            <th i18n="entry facility label">Facility</th>
                            <td>{{ entry.facility.name | empty }}</td>
                        </tr>
                        <tr>
                            <th i18n="entry country label">Country</th>
                            <td>{{ entry.facility.country | empty }}</td>
                        </tr>
                        <tr>
                            <th i18n="entry currency label">Currency</th>
                            <td>{{ entry.facility.currencyCode | empty }}</td>
                        </tr>
                    </tbody>
                </table>

                <table class="info__table">
                    <caption i18n="entry product-information title">Product information</caption>
                    <tbody>
                        <tr>
                            <th i18n="entry products label">Product(s)</th>
                            <td>{{ entry.facility.product | empty }}</td>
                        </tr>
                        <tr>
                            <th i18n="entry annual-production label">Annual production</th>
                            <td>{{ entry.facility.annualProduction | empty }}</td>
                        </tr>
                    </tbody>
                </table>

                <table class="info__table">
                    <caption i18n="entry payroll title">Payroll</caption>
                    <tbody>
                        <tr>
                            <th i18n="entry year label">Year</th>
                            <td>{{ entry.year | empty }}</td>
                        </tr>
                        <tr>
                            <th i18n="entry job-categories label"># Job categories</th>
                            <td>{{ entry.nrOfJobcategories | empty }}</td>
                        </tr>
                        <tr>
                            <th i18n="entry workers label"># Workers</th>
                            <td>{{ entry.nrOfWorkers | empty }}</td>
                        </tr>
                        <tr>
                            <th i18n="entry workers-below-living-wage label"># Workers - Below living wage</th>
                            <td>{{ entry.nrOfWorkersBelowLW | empty }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="info__column">
                <table class="info__table">
                    <caption i18n="entry salary-matrix title">Salary Matrix</caption>
                    <tbody>
                        <tr>
                            <th i18n="entry matrix-id label">Matrix ID</th>
                            <td class="info__copy-cell">
                                @if (entry.matrixId) {
                                    <button
                                        giz-icon-button
                                        [icon]="icon.COPY"
                                        [theme]="'basic'"
                                        [size]="'small'"
                                        [cdkCopyToClipboard]="entry.matrixId"
                                        i18n="copy"
                                    >Copy</button>
                                }
                                {{ entry.matrixId | empty }}
                            </td>
                        </tr>
                        <tr>
                            <th i18n="entry facility-id label">Facility ID</th>
                            <td class="info__copy-cell">
                                @if (entry.facility.id) {
                                    <button
                                        giz-icon-button
                                        [icon]="icon.COPY"
                                        [theme]="'basic'"
                                        [size]="'small'"
                                        [cdkCopyToClipboard]="entry.facility.id"
                                        i18n="copy"
                                    >Copy</button>
                                }
                                {{ entry.facility.id | empty }}
                            </td>
                        </tr>
                        <tr>
                            <th i18n="entry verified label">Verified?</th>
                            <td>{{ !!entry.verified | verified }}</td>
                        </tr>
                    </tbody>
                </table>
                <table class="info__table">
                    <caption i18n="entry benchmark title">Benchmark</caption>
                    <tbody>
                        <tr>
                            <th i18n="entry region label">Region</th>
                            <td>{{ entry.benchmark.region | empty }}</td>
                        </tr>
                        <tr>
                            <th i18n="entry amount label">Amount</th>
                            <td>{{ entry.benchmark.localValue | empty }}</td>
                        </tr>
                    </tbody>
                </table>
                <table class="info__table">
                    <caption i18n="entry entry title">Entry</caption>
                    <tbody>
                        <tr>
                            <th i18n="entry entry-id label">Entry ID</th>
                            <td class="info__copy-cell">
                                <button
                                    giz-icon-button
                                    [icon]="icon.COPY"
                                    [theme]="'basic'"
                                    [size]="'small'"
                                    [cdkCopyToClipboard]="entry.id"
                                    i18n="copy"
                                >Copy</button>
                                {{ entry.id | empty }}
                            </td>
                        </tr>
                        <tr>
                            <th i18n="entry created-on label">Created on</th>
                            <td>{{ entry.createdAt | date | empty }}</td>
                        </tr>
                        <tr>
                            <th i18n="entry edited-on label">Edited on</th>
                            <td>{{ entry.updatedAt | date | empty }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        } @else {
            <p class="info__no-result" i18n="entry error not-found">Entry not found</p>
        }
    }
</div>
